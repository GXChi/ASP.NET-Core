/**
 * Minified by jsDelivr using Terser v5.3.5.
 * Original file: /npm/layui@2.6.5/test/lay/modules/laydate.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var $=layui.$,laydate=layui.laydate,lay=window.lay,IS_PHANTOMJS=layui.device("phantomjs").phantomjs,createNode=function(e){return $(e).addClass("test-node").appendTo("body")},dateFormat=function(e,t){if(e=e||"yyyy-MM-dd HH:mm",t)if("number"==typeof t&&13!==String(t).length){var a=new Date;a.setDate(a.getDate()+t),t=a}else t instanceof Date||(t=new Date(t));else t=new Date;var i={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours()%12==0?12:t.getHours()%12,"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),S:t.getMilliseconds()};return/(y+)/i.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),layui.each(i,(function(t){new RegExp("("+t+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?i[t]:("00"+i[t]).substr((""+i[t]).length)))})),e};describe("laydate",(function(){beforeEach((function(){createNode('<div id="test-div"></div>'),createNode('<input id="test-input" type="text">')})),afterEach((function(){$(".layui-laydate, .test-node").remove()})),it("version",(function(){expect(laydate.v).to.be.a("string"),expect(laydate.v).to.not.be.empty})),it("loaded css link",(function(){expect($("#layuicss-laydate").length).to.equal(1,"加载laydate.css的link标签必须存在"),expect($("#layuicss-laydate").css("display")).to.equal("none","验证laydate.css是否生效"),expect($("#layuicss-laydate-no-suceess").css("display")).to.be.undefined})),describe("laydate.render()",(function(){it("check params and return value",(function(){expect(laydate.render()).to.be.a("object","render() 返回值必须是对象"),expect(laydate.render("str")).to.have.property("hint"),expect(laydate.render().hint).to.be.a("function","render() 返回值必须包含 hint()"),expect(laydate.render({})).to.have.property("config")})),describe("options.elem",(function(){it("selector",(function(){expect((function(){laydate.render({elem:"#test-div"}),laydate.render({elem:"#test-div-layui"}),laydate.render({elem:".ok-layui"})})).to.not.throw,expect($(".layui-laydate").length).to.equal(0)})),it("error selector",(function(){expect((function(){laydate.render({elem:"#test-div-no-selector",show:!0}),laydate.render({elem:".test-div-no-selector",show:!0})})).to.not.throw,expect($(".layui-laydate").length).to.equal(0)}))})),describe("options.type",(function(){it("default value",(function(){expect(laydate.render().config.type).to.equal("date"),expect(laydate.render({elem:"#test-div"}).config.type).to.equal("date","render 方法 options.type 默认值必须是 date")})),it("is year",(function(e){var t=laydate.render({elem:"#test-div",type:"year",show:!0});expect(t.config.type).to.equal("year"),setTimeout((function(){expect($(".laydate-set-ym").length).to.equal(1,"标头年月元素必须存在"),expect($(".laydate-year-list .layui-this").text()).to.equal(dateFormat("yyyy年"),"默认高亮显示当前年"),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy"),"确认后输出选中的值"),e()}),100)})),it("is month",(function(e){var t=laydate.render({elem:"#test-div",type:"month",show:!0});expect(t.config.type).to.equal("month"),setTimeout((function(){expect($(".laydate-set-ym").length).to.equal(1),expect($(".laydate-month-list .layui-this").attr("lay-ym")).to.equal(dateFormat("M")-1+"","默认高亮显示当前月"),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy-MM"),"确认后输出选中的值"),e()}))})),it("is date",(function(e){var t=laydate.render({elem:"#test-div",type:"date",show:!0});expect(t.config.type).to.equal("date"),setTimeout((function(){expect($(".laydate-set-ym").text()).to.equal(dateFormat("yyyy年M月"),"标头内显示当前年+月"),expect($(".layui-laydate-content .layui-this").attr("lay-ymd")).to.equal(dateFormat("yyyy-M-d"),"默认高亮显示当前日"),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy-MM-dd"),"确认后输出选中的值"),e()}))})),it("is time",(function(e){var t=laydate.render({elem:"#test-div",type:"time",show:!0});expect(t.config.type).to.equal("time"),setTimeout((function(){expect($(".laydate-time-text").text()).to.equal("选择时间","标头内显示当前年+月"),expect($(".laydate-time-list").length).to.equal(1),expect($("#test-div").text()).to.equal(""),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal("00:00:00"),e()}))})),it("is datetime",(function(e){var t=laydate.render({elem:"#test-div",type:"datetime",show:!0}),a=new Date;expect(t.config.type).to.equal("datetime"),setTimeout((function(){expect($(".laydate-set-ym").text()).to.equal(a.getFullYear()+"年"+(a.getMonth()+1)+"月","标头内显示当前年+月"),expect($(".layui-laydate-content .layui-this").attr("lay-ymd")).to.equal(a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),"默认高亮显示当前日"),expect($(".laydate-btns-time").text()).to.equal("选择时间"),expect($(".laydate-time-text").text()).to.equal(""),$(".laydate-btns-time").click(),expect($(".laydate-time-text").text()).to.equal("选择时间"),expect($(".laydate-btns-time").text()).to.equal("返回日期"),$(".laydate-btns-time").click(),expect($(".laydate-time-text").text()).to.equal(""),expect($(".laydate-btns-time").text()).to.equal("选择时间"),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy-MM-dd 00:00:00"),"确认后输出选中的值"),e()}))}))})),describe("options.range",(function(){it("time type and range",(function(e){laydate.render({elem:"#test-div",type:"time",range:!0,show:!0}),setTimeout((function(){expect($(".laydate-time-text").length).to.equal(2),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal("00:00:00 - 00:00:00","确认后输出范围值"),e()}))})),it("year type and range is split",(function(){laydate.render({elem:"#test-div",type:"year",range:"到",show:!0}),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.match(/\d+\s到\s\d+/,"确认后输出范围值")}))})),describe("options.format",(function(){it("default value",(function(){expect(laydate.render().config.format).to.equal("yyyy-MM-dd"),expect(laydate.render({elem:"#test-div"}).config.format).to.equal("yyyy-MM-dd","render 方法 options.format 默认值必须是 yyyy-MM-dd")})),it("yyyy年MM月dd日 HH时mm分ss秒",(function(){var e=laydate.render({format:"yyyy年MM月dd日 HH时mm分ss秒",elem:"#test-div"});expect(e.config.format).to.equal("yyyy年MM月dd日 HH时mm分ss秒","设置 option.format 返回配置内必须相等"),$("#test-div").click(),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy年MM月dd日 00时00分00秒"),"确认后输出选中的值")})),it("datetime type and yyyy年的M月某天晚上，大概H点",(function(){laydate.render({format:"yyyy年的M月某天晚上，大概H点",elem:"#test-div",type:"datetime"}),$("#test-div").click(),$(".laydate-btns-time").click(),$(".laydate-time-list li").eq(0).find("li").eq(5).click(),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy年的M月某天晚上，大概5点"),"确认后输出选中的值")})),it("format and error value",(function(){laydate.render({elem:"#test-div",value:"2017年7月7日",format:"yyyy~MM~dd"}),expect($("#test-div").text()).to.equal("2017年7月7日","默认输出value的值到元素中"),$("#test-div").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy~MM~dd"),"根据options.format修正value为当天"),expect($(".layui-laydate-hint").text()).to.match(/日期格式不合法/),expect($(".layui-laydate-hint").text()).to.match(/yyyy~MM~dd/)})),it("format and number value",(function(e){laydate.render({elem:"#test-div",value:"20170707",format:"yyyyMMdd",show:!0}),laydate.render({elem:"#test-input",value:"201777",format:"yyyyMd",show:!0}),expect($("#test-div").text()).to.equal("20170707","默认输出value的值到元素中"),expect($("#test-input").val()).to.equal("201777","默认输出value的值到元素中"),setTimeout((function(){expect($(".layui-laydate-hint").length).to.equal(0,"格式正确没有错误提示"),e()}))}))})),describe("options.value",(function(){it("2017-06-31",(function(e){laydate.render({elem:"#test-div",show:!0,value:"2017-06-31",done:function(t){expect(t).to.equal("2017-06-30","6月最大为30号"),e()}}),$(".laydate-btns-confirm").click()})),it("new Date()",(function(e){var t=new Date;t.setDate(t.getDate()+1),laydate.render({elem:"#test-div",show:!0,value:t,done:function(t){expect(t).to.equal(dateFormat("yyyy-MM-dd",1)),e()}}),$(".laydate-btns-confirm").click()})),it("yyyy-MM-dd",(function(){laydate.render({elem:"#test-div",value:"1990年11月27日",format:"yyyy年MM月dd日"}),$("#test-div").click(),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal("1990年11月27日","确认后输出选中的值")})),it("yyyy-MM-dd not format value",(function(){laydate.render({elem:"#test-div",value:"1990-11月-日",format:"yyyy年MM月dd日"}),$("#test-div").click(),expect($(".layui-laydate-hint").text()).to.match(/日期格式不合法/),expect($(".layui-laydate-hint").text()).to.match(/yyyy年MM月dd日/),$(".laydate-btns-confirm").click(),expect($("#test-div").text()).to.equal(dateFormat("yyyy年MM月dd日"),"确认后输出选中的值")})),it("number not format value",(function(){laydate.render({elem:"#test-div",value:Date.now()}),$("#test-div").click(),expect($(".layui-laydate-hint").text()).to.match(/日期格式不合法/)})),it("div default html value format error",(function(){laydate.render({elem:"#test-div",value:Date.now()}),$("#test-div").text("layui").click(),expect($(".layui-laydate-hint").text()).to.match(/日期格式不合法/)})),it("input default value format error",(function(e){createNode('<input id="test-input-2" type="text" value="layui">'),laydate.render({elem:"#test-input-2",show:!0}),setTimeout((function(){expect($(".layui-laydate-hint").text()).to.match(/日期格式不合法/),e()}))})),it("change value",(function(){laydate.render({show:!0,value:"2017-3-7",elem:"#test-div"}),expect($(".layui-this").text()).to.equal("7","显示默认的7"),$(".laydate-btns-confirm").click(),$("#test-div").text("2017-7-10").click(),expect($(".layui-this").text()).to.equal("10","显示更新后的10")}))})),describe("options.min and options.max",(function(){it("date string",(function(){laydate.render({elem:"#test-div",min:"2017-7-7",max:"2017-7-8",value:"2017-7-8"}),$("#test-div").click(),$(".laydate-set-ym").find('[lay-type="year"]').click(),expect($(".laydate-year-list .layui-this").text()).to.equal("2017年"),expect($('.laydate-year-list [lay-ym="2016"]').hasClass("laydate-disabled")).to.be.true,expect($('.laydate-year-list [lay-ym="2018"]').hasClass("laydate-disabled")).to.be.true,$("#test-div").click(),$(".laydate-set-ym").find('[lay-type="month"]').click(),expect($('.laydate-month-list [lay-ym="5"]').hasClass("laydate-disabled")).to.be.true,expect($('.laydate-month-list [lay-ym="7"]').hasClass("laydate-disabled")).to.be.true})),it("error string",(function(){laydate.render({elem:"#test-div",min:"layui",max:"layui"}),$("#test-div").click(),expect($(".layui-laydate-content .layui-this").attr("lay-ymd")).to.equal(dateFormat("yyyy-M-d"),"默认选中日期");var e=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",-1)+'"]');e.length&&expect(e.hasClass("laydate-disabled")).to.be.true,(e=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",1)+'"]')).length&&expect(e.hasClass("laydate-disabled")).to.be.true})),it("date number",(function(){laydate.render({elem:"#test-div",min:-2,max:2}),$("#test-div").click();var e=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",-2)+'"]');e.length&&expect(e.hasClass("laydate-disabled")).to.be.false,(e=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",-3)+'"]')).length&&expect(e.hasClass("laydate-disabled")).to.be.true,(e=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",2)+'"]')).length&&expect(e.hasClass("laydate-disabled")).to.be.false,(e=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",3)+'"]')).length&&expect(e.hasClass("laydate-disabled")).to.be.true})),it("timestamp",(function(){var e=new Date,t=new Date;e.setDate(e.getDate()+-3),t.setDate(t.getDate()+3),laydate.render({elem:"#test-div",min:e.getTime(),max:t.getTime()}),$("#test-div").click();var a=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",-3)+'"]');a.length&&expect(a.hasClass("laydate-disabled")).to.be.false,(a=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",-4)+'"]')).length&&expect(a.hasClass("laydate-disabled")).to.be.true,(a=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",3)+'"]')).length&&expect(a.hasClass("laydate-disabled")).to.be.false,(a=$('.layui-laydate-content [lay-ymd="'+dateFormat("yyyy-M-d",4)+'"]')).length&&expect(a.hasClass("laydate-disabled")).to.be.true})),it("and options.value",(function(){laydate.render({elem:"#test-div",min:"2017-7-7",max:"2017-7-7",value:"2017-7-7"}),$("#test-div").click(),expect($(".layui-laydate-content .layui-this").attr("lay-ymd")).to.equal("2017-7-7","默认选中日期"),expect($('.layui-laydate-content [lay-ymd="2017-7-6"]').hasClass("laydate-disabled")).to.be.true,expect($('.layui-laydate-content [lay-ymd="2017-7-8"]').hasClass("laydate-disabled")).to.be.true})),it("options.max < options.min",(function(){laydate.render({elem:"#test-div",min:"2017-7-7",max:"2017-7-1"}),$("#test-div").click(),$(".laydate-set-ym").find('[lay-type="year"]').click();var e=$(".laydate-year-list li").filter((function(){return!$(this).hasClass("laydate-disabled")})).get();expect(e.length).to.equal(0),$("#test-div").click(),$(".laydate-set-ym").find('[lay-type="month"]').click();var t=$(".laydate-month-list li").filter((function(){return!$(this).hasClass("laydate-disabled")})).get();expect(t.length).to.equal(0)}))})),describe("options.trigger",(function(){it("default value",(function(){var e=laydate.render({elem:"#test-input"});expect(e.config.trigger).to.equal("focus"),e=laydate.render({elem:"#test-div"}),expect(e.config.trigger).to.equal("click")})),it("not click",(function(e){laydate.render({elem:"#test-div",trigger:"layui",ready:e}),$("#test-div").click(),setTimeout(e)}))})),describe("options.show",(function(){it("default value",(function(e){laydate.render({elem:"#test-div",ready:e}),setTimeout(e)})),it("show is true",(function(e){laydate.render({elem:"#test-div",show:!0,ready:function(){e()}})})),it("element trigger show",(function(e){createNode('<button id="test-trigger-show">显示</button>'),$("#test-trigger-show").on("click",(function(){laydate.render({elem:"#test-div",show:!0})})).click(),setTimeout((function(){expect($(".layui-laydate").length).to.equal(0),e()}),100)})),it("element trigger show and options.closeStop",(function(e){createNode('<button id="test-trigger-show">显示</button>'),$("#test-trigger-show").on("click",(function(){laydate.render({elem:"#test-div",show:!0,closeStop:"#test-trigger-show"})})).click(),setTimeout((function(){expect($(".layui-laydate").length).to.equal(1),e()}),100)}))})),describe("options.position",(function(){it("static",(function(){laydate.render({elem:"#test-div",position:"static"}),expect($("#test-div").find(".layui-laydate-static").length).to.equal(1)})),it("fixed",(function(){laydate.render({elem:"#test-div",position:"fixed",show:!0}),expect($(".layui-laydate").css("position")).to.equal("fixed")}))})),describe("options.zIndex",(function(){it("options.position is fixed",(function(){laydate.render({elem:"#test-div",position:"fixed",show:!0,zIndex:10086}),expect($(".layui-laydate").css("zIndex")).to.equal("10086")})),it("options.position is abolute",(function(){laydate.render({elem:"#test-div",show:!0,position:"abolute",zIndex:10086}),expect($(".layui-laydate").css("zIndex")).to.equal("10086")})),it("options.position is static",(function(){laydate.render({elem:"#test-div",position:"static",show:!0,zIndex:10086}),expect($(".layui-laydate").css("zIndex")).to.equal("10086")}))})),describe("options.showBottom",(function(){it("default value",(function(){laydate.render({elem:"#test-div",show:!0}),expect($(".layui-laydate-footer").length).to.equal(1)})),it("is false",(function(){laydate.render({elem:"#test-div",show:!0,showBottom:!1}),expect($(".layui-laydate-footer").length).to.equal(0)}))})),describe("options.btns",(function(){it("default value",(function(){laydate.render({elem:"#test-div",show:!0});var e=$(".laydate-footer-btns span").map((function(){return $(this).attr("lay-type")})).get();expect(e).to.deep.equal(["clear","now","confirm"])})),it("[confirm, now]",(function(){laydate.render({elem:"#test-div",show:!0,btns:["confirm","now"]});var e=$(".laydate-footer-btns span").map((function(){return $(this).attr("lay-type")})).get();expect(e).to.deep.equal(["confirm","now"])})),it("error value",(function(){laydate.render({elem:"#test-div",show:!0,btns:["layui"]});var e=$(".laydate-footer-btns span").map((function(){return $(this).attr("lay-type")})).get();expect(e).to.deep.equal(["layui"])}))})),describe("options.lang",(function(){it("default value is cn",(function(){var e=laydate.render({show:!0,elem:"#test-div"}),t=$(".layui-laydate-content").find("thead th").map((function(){return $(this).text()})).get();expect(t).to.deep.equal(["日","一","二","三","四","五","六"],"cn版本星期的标头"),expect($(".laydate-btns-confirm").text()).to.equal("确定","cn版本确定按钮"),expect($(".laydate-btns-now").text()).to.equal("现在","cn版本当前按钮"),expect($(".laydate-btns-clear").text()).to.equal("清空","cn版本清除按钮"),expect(e.config.lang).to.equal("cn")})),it("en",(function(){var e=laydate.render({show:!0,lang:"en",elem:"#test-div"}),t=$(".layui-laydate-content").find("thead th").map((function(){return $(this).text()})).get();expect(t).to.deep.equal(["Su","Mo","Tu","We","Th","Fr","Sa"],"en版本星期的标头"),expect($(".laydate-btns-confirm").text()).to.equal("Confirm","en版本确定按钮"),expect($(".laydate-btns-now").text()).to.equal("Now","en版本当前按钮"),expect($(".laydate-btns-clear").text()).to.equal("Clear","en版本清除按钮"),expect(e.config.lang).to.equal("en")})),it("error vaue",(function(){var e=laydate.render({show:!0,lang:"layui",elem:"#test-div"});expect($(".laydate-btns-confirm").text()).to.equal("确定","lang错误时默认为中文"),expect(e.config.lang).to.equal("layui")}))})),describe("options.theme",(function(){it("molv",(function(){laydate.render({show:!0,elem:"#test-div",theme:"molv"}),expect($(".laydate-theme-molv").length).to.equal(1,"墨绿主题class存在")})),it("grid",(function(){laydate.render({show:!0,elem:"#test-div",theme:"grid"}),expect($(".laydate-theme-grid").length).to.equal(1,"格子主题class存在")})),it("error value",(function(){laydate.render({show:!0,elem:"#test-div",theme:"layui-test"}),expect($(".laydate-theme-layui-test").length).to.equal(1,"自定义主题class存在")})),it("#color",(function(){var e=["rgb(0, 0, 0)","rgba(0, 0, 0, 0)","#000"];laydate.render({show:!0,elem:"#test-div",theme:"#000"}),$.each([".layui-this",".layui-laydate-header"],(function(t,a){expect(e).to.includes($(a).css("background-color"),"标头和当前选中颜色必须是设置的")}))}))})),describe("options.calendar",(function(){it("default value",(function(){var e=laydate.render({elem:"#test-div",show:!0,value:"2017-3-8"});expect(e.config.calendar).to.equal(!1,"默认值为false"),expect($(".layui-this").text()).to.equal("8","显示数字")})),it("is true",(function(){var e=laydate.render({elem:"#test-div",show:!0,value:"2017-3-8",calendar:!0});expect(e.config.calendar).to.equal(!0,"默认值为false"),expect($(".layui-this").text()).to.equal("妇女","显示妇女节")})),it("options.lang is en",(function(){laydate.render({elem:"#test-div",show:!0,lang:"en",value:"2017-3-8"}),expect($(".layui-this").text()).to.equal("8","国际版显示数字")}))})),describe("options.mark",(function(){it("every year",(function(){laydate.render({mark:{"0-3-7":"妹子"},show:!0,value:"2017-3-7",elem:"#test-div"}),expect($(".layui-this").text()).to.equal("妹子","显示自定义的妹子"),$(".laydate-btns-confirm").click(),$("#test-div").text("2017-4-7").click(),expect($(".layui-this").text()).to.equal("7","显示日期")})),it("every year and month",(function(){laydate.render({mark:{"0-0-7":"妹子"},show:!0,value:"2017-7-7",elem:"#test-div"}),expect($(".layui-this").text()).to.equal("妹子","显示自定义的妹子"),$(".laydate-btns-confirm").click(),$("#test-div").text("2017-4-7").click(),expect($(".layui-this").text()).to.equal("妹子","显示自定义的妹子")})),it("yyyy-M-d",(function(){laydate.render({mark:{"2017-3-7":"妹子"},show:!0,value:"2017-3-7",elem:"#test-div"}),expect($(".layui-this").text()).to.equal("妹子","显示自定义的妹子"),$(".laydate-btns-confirm").click(),$("#test-div").text("2016-3-7").click(),expect($(".layui-this").text()).to.equal("7","显示日期")})),it("options.calendar is true",(function(){laydate.render({elem:"#test-div",show:!0,value:"2017-3-8",mark:{"2017-3-8":"快乐"},calendar:!0}),expect($(".layui-this").text()).to.equal("快乐","显示被mark覆盖的 快乐")}))})),IS_PHANTOMJS&&it("options.dateTime",(function(e){laydate.render({elem:"#test-div",show:!0,dateTime:{year:2e7,month:15,minutes:70,seconds:60,hours:25},done:function(t){expect(t).to.equal(dateFormat("yyyy-MM-dd"),"设置日期超出范围, 初始化为当天"),e()}}),$(".laydate-btns-confirm").click()}))})),describe("callbacks",(function(){describe("render",(function(){it("not elem",(function(e){var t=!0;laydate.render({ready:function(){t=!1}}),setTimeout((function(){expect(t).to.be.true,e()}),360)})),it("trigger",(function(e){laydate.render({elem:"#test-div",ready:function(t){expect(t).to.be.a("object"),e()}}),$("#test-div").click()})),it("multiple trigger",(function(e){var t=0;laydate.render({elem:"#test-div",ready:function(){t+=1}}),$("#test-div").click().click().click(),setTimeout((function(){expect(t).to.equal(3),e()}))})),it("options.show is true",(function(e){laydate.render({elem:"#test-div",show:!0,ready:function(t){expect(t).to.be.a("object"),e()}})}))})),describe("change",(function(){it("trigger",(function(e){laydate.render({elem:"#test-div",show:!0,value:"2017-07-07",range:!1,change:function(t,a,i){expect(t).to.equal("2017-08-07","进入下一月的日期"),expect(a).to.deep.equal({year:2017,month:8,date:7,hours:0,minutes:0,seconds:0},"进入下一月的日期时间对象"),expect(i).to.deep.equal({},"没有开启 options.range 时 endDate 为空对象"),e()}}),$(".laydate-next-m").click()})),it("options.range is true",(function(e){laydate.render({elem:"#test-div",range:!0,show:!0,change:function(t,a,i){dateFormat("yyyy-MM-dd"),dateFormat("yyyy-MM-dd",1);expect(a).to.be.a("Object"),expect(a).to.not.deep.equal({}),expect(i).to.be.a("Object"),expect(i).to.not.deep.equal({},"开启 options.range 时 endDate 不能为空"),e()}}),$('[lay-ymd="'+dateFormat("yyyy-M-d")+'"]').click(),$('[lay-ymd="'+dateFormat("yyyy-M-d",1)+'"]').click()}))})),describe("done",(function(){it("click date",(function(e){laydate.render({elem:"#test-div",show:!0,value:"2017-07-07",range:!1,done:function(t,a,i){expect(t).to.equal("2017-07-07"),expect(a).to.deep.equal({year:2017,month:7,date:7,hours:0,minutes:0,seconds:0}),expect(i).to.deep.equal({}),e()}}),$(".layui-this").click()})),it("click confirm btn",(function(e){laydate.render({elem:"#test-div",show:!0,value:"2017-07-07",range:!1,done:function(t,a,i){expect(t).to.equal("2017-07-07"),expect(a).to.deep.equal({year:2017,month:7,date:7,hours:0,minutes:0,seconds:0}),expect(i).to.deep.equal({}),e()}}),$(".laydate-btns-confirm").click()})),it("click clear btn",(function(e){laydate.render({elem:"#test-div",show:!0,value:"2017-07-07",range:!1,done:function(t,a,i){expect(t).to.equal(""),expect(a).to.deep.equal({}),expect(i).to.deep.equal({}),e()}}),$(".laydate-btns-clear").click()})),it("click now btn",(function(e){laydate.render({elem:"#test-div",show:!0,value:"2017-07-07",range:!1,done:function(t,a,i){expect(t).to.equal(dateFormat("yyyy-MM-dd")),e()}}),$(".laydate-btns-now").click()}))}))})),describe("#hint",(function(){it("set string",(function(){var e=laydate.render({elem:"#test-div",show:!0});expect(e.hint).to.be.a("function",".hint 必须是方法"),e.hint("layui"),expect($(".layui-laydate-hint").text()).to.equal("layui")})),it("timeout 3000",(function(e){laydate.render({elem:"#test-div",show:!0}).hint("layui"),expect($(".layui-laydate-hint").length).to.equal(1),setTimeout((function(){expect($(".layui-laydate-hint").length).to.equal(0),e()}),3500)}))})),describe(".getEndDate",(function(){it("default params and return value",(function(){expect(laydate.getEndDate).to.be.a("function","laydate.getEndDate 必须是方法"),expect(laydate.getEndDate()).to.be.a("number","laydate.getEndDate 返回值必须是数字"),expect(laydate.getEndDate(10,2017)).to.be.a("number","laydate.getEndDate 返回值必须是数字"),expect(laydate.getEndDate(10)).to.be.a("number","laydate.getEndDate 返回值必须是数字")})),it("getEndDate(year)",(function(){expect(laydate.getEndDate(10)).to.equal(31,"10月最后一天为31"),expect(laydate.getEndDate(11)).to.equal(30,"11月最后一天为30"),expect(laydate.getEndDate(11,2017)).to.equal(30,"2017年11月最后一天为30"),expect(laydate.getEndDate(10,2017)).to.equal(31,"2017年10月最后一天为31"),expect(laydate.getEndDate(2,2017)).to.equal(28,"2017年2月最后一天为28"),expect(laydate.getEndDate(2,2016)).to.equal(29,"2016年2月最后一天为29")}))})),describe("lay",(function(){describe("lay.stope",(function(){it("stopPropagation",(function(e){lay.stope({stopPropagation:function(t){expect(t).to.be.undefined,e()}})})),it("cancelBubble",(function(){var e={};lay.stope(e),expect(e.cancelBubble).to.be.true})),IS_PHANTOMJS&&it("window.event",(function(){var e=window.event,t=window.event={};lay.stope(),expect(t.cancelBubble).to.be.true,window.event=e}))})),describe("lay.extend",(function(){it("default params and return value",(function(){expect(lay.extend).to.be.a("function","必须是方法"),expect(lay.extend()).to.be.a("object","返回值必须是对象"),expect(lay.extend({})).to.be.a("object","返回值必须是对象"),expect(lay.extend({},{})).to.be.a("object","返回值必须是对象")})),it("multiple object",(function(){expect(lay.extend({},{})).to.deep.equal({}),expect(lay.extend(!0,{})).to.deep.equal({}),expect(lay.extend(!0,{a:1},{b:2})).to.deep.equal({a:1,b:2},"合并多个对象"),expect(lay.extend({a:1},{b:2})).to.deep.equal({a:1,b:2},"合并多个对象")})),it("recursion merge",(function(){expect(lay.extend({a:1,b:{b1:1}},{b:{b2:1,b3:[1]}},{c:null})).to.deep.equal({a:1,b:{b1:1,b2:1,b3:[1]},c:null})})),it("clone object",(function(){var e={};lay.extend(e,{b:1},{c:[]}),expect(e.b).to.equal(1,"污染了原对象"),expect(e.c).to.deep.equal([],"污染了原对象")}))})),describe("lay.each",(function(){it("check params",(function(){expect(lay.each).to.be.a("function","必须是方法"),expect(lay.each()).to.deep.equal(lay,"返回值判断"),expect(lay.each({})).to.deep.equal(lay),expect(lay.each([])).to.deep.equal(lay),expect(lay.each({},(function(){}))).to.deep.equal(lay)})),it("null params",(function(e){lay.each(null,(function(e){1})),setTimeout((function(){expect(0).to.equal(0),e()}))})),it("object each",(function(e){lay.each({name:"layui"},(function(t,a){expect(this+"").to.deep.equal(a).and.equal("layui"),expect(t).to.equal("name"),e()}))})),it("array each",(function(e){lay.each(["layui"],(function(t,a){expect(this+"").to.deep.equal(a).and.equal("layui"),expect(t).to.equal(0),e()}))})),it("break array each",(function(){var e=new Array(100).join(",").split(","),t=-1;lay.each(e,(function(e){if(t=e,e>5)return!0})),expect(t).to.equal(6),t=-1,lay.each(e,(function(e){if(t=e,e>5)return!1})),expect(t).to.equal(99)})),it("break object each",(function(){var e={name:"layui",version:"2.x"},t=null;lay.each(e,(function(e){return t=e,!0})),expect(t).to.equal("name"),t=null,lay.each(e,(function(e){return t=e,!1})),expect(t).to.equal("version")}))})),describe("lay.elem",(function(){it("create div",(function(){expect(lay.elem("div")).to.be.an.instanceof(HTMLElement,"必须是 html 节点")})),it("has error",(function(){expect((function(){lay.elem([])})).to.throw,expect((function(){lay.elem()})).to.throw})),it("set attrs",(function(){var e=lay.elem("div",{"data-name":"layui"});expect($(e).attr("data-name")).to.equal("layui")}))})),describe("lay.digit",(function(){it("default params and return value",(function(){expect(lay.digit).to.be.a("function","必须是方法"),expect(lay.digit()).to.equal("undefined","无参数时返回 undefined")})),it("default length",(function(){expect(lay.digit(1)).to.equal("01"),expect(lay.digit(1)).to.equal(lay.digit(1,2)),expect(lay.digit(11)).to.equal("11"),expect(lay.digit("111")).to.equal("111")})),it("set length",(function(){expect(lay.digit(1,1)).to.equal("1"),expect(lay.digit(1,2)).to.equal("01"),expect(lay.digit(11,1)).to.equal("11"),expect(lay.digit("11",10)).to.equal("0000000011","补10位"),expect(lay.digit(1,5)).to.equal("00001"),expect(lay.digit(1,100).length).to.equal(100,"补100位")}))})),IS_PHANTOMJS&&it("lay.ie",(function(){expect(lay.ie).to.be.a("boolean")}))})),describe("lay()",(function(){it("return value",(function(){expect(lay).to.be.a("function","必须是方法"),expect(lay()).to.be.a("object")})),it("#find",(function(){expect(lay("body").find()[0]).to.be.undefined,expect(lay("body").find(".test-test-empty")[0]).to.be.undefined,expect(lay("body").find("div")[0]).to.not.be.undefined})),it("#addClass",(function(){var e=lay("#test-div");expect($("#test-div").hasClass("layui")).to.be.false,expect(e.addClass("layui")).to.deep.equal(e),expect($("#test-div").hasClass("layui")).to.be.true})),it("#removeClass",(function(){var e=lay("#test-div");lay("#test-div").addClass("layui"),expect($("#test-div").hasClass("layui")).to.be.true,expect(e.removeClass("layui")).to.deep.equal(e),expect($("#test-div").hasClass("layui")).to.be.false})),it("#hasClass",(function(){expect(lay("#test-div").hasClass("layui")).to.be.false,lay("#test-div").addClass("layui"),expect(lay("#test-div").hasClass("layui")).to.be.true,lay("#test-div").removeClass("layui"),expect(lay("#test-div").hasClass("layui")).to.be.false})),it("#attr",(function(){$("#test-div").attr("data-name","layui"),expect(lay("#test-div").attr("data-name")).to.equal("layui");var e=lay("#test-div");expect(e.attr("data-name","layui-2")).to.deep.equal(e),expect(lay("#test-div").attr("data-name")).to.equal("layui-2"),expect(lay("#test-test-empty").attr("data-name")).to.be.undefined})),it("#removeAttr",(function(){var e=lay("#test-div");lay("#test-div").attr("data-name","layui"),expect(lay("#test-div").attr("data-name")).to.equal("layui"),expect(lay("#test-div").removeAttr("data-name")).to.deep.equal(e),expect(lay("#test-div").attr("data-name")).to.not.equal("layui")})),it("#html",(function(){var e="<b>layui</b>",t=lay("#test-div");expect(t.html(e)).to.deep.equal(t),expect($("#test-div").html()).to.equal(e)})),it("#val",(function(){var e=lay("#test-input");expect(e.val("layui")).to.deep.equal(e),expect($("#test-input").val()).to.equal("layui")})),it("#append",(function(){var e=lay("#test-div");expect(e.append("<b>1</b>")).to.deep.equal(e),lay("#test-div").append("<b>2</b>"),expect($("#test-div").html()).to.equal("<b>1</b><b>2</b>"),$("#test-div").empty();var t=$("<b />").html("layui").get(0);lay("#test-div").append(t),expect($("#test-div").html()).to.equal("<b>layui</b>")})),it("#remove",(function(){lay("#test-div").append("<div>1</div>"),expect($("#test-div").children().length).to.equal(1),lay("#test-div").remove($("#test-div").children().get(0)),expect($("#test-div").children().length).to.equal(0),lay("#test-div").append("<div>1</div>"),expect($("#test-div").children().length).to.equal(1),lay("#test-div div").remove(),expect($("#test-div").children().length).to.equal(0)})),it("#on",(function(e){lay("#test-div").on("click",(function(t){expect(t).to.be.not.undefined,e()})),$("#test-div").click()}))}))}));
//# sourceMappingURL=/sm/c61fe70a172fdca1558d41e6b5c20708ce834a313eb81a1d92288366eccb9503.map